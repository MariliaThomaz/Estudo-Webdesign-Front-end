<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">

  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alunos - Média e Notas</title>
  <style type="text/css">
    .underlined {
      border-bottom: 3px solid currentColor;
    }
  </style>
</head>

<body>

  <div class="container">

    <div class="hero center card-panel materialize-red darken-4 white-text z-depth-3">
      <h1 class="materialize-red-text text-lighten-3"> Curso Javascript Completo</h1>

    </div>
    <h2 class="materialize-red-text text-lighten-2 underlined">Dados de Alunos</h2>

    <table class="striped">
      <thead>
        <tr>
          <th>Nome</th>
          <th aluno-nota="1">Nota 1</th>
          <th aluno-nota="2">Nota 2</th>
          <th aluno-nota="3">Nota 3</th>
          <th aluno-nota="4">Nota 4</th>
          <th aluno-nota="m">Média</th>

        </tr>
      </thead>

      <tbody>
        <tr>
          <td>Daniel</td>
          <td>10</td>
          <td>3</td>
          <td>7.5</td>
          <td>3</td>
          <td></td>
        </tr>

        <tr>
          <td>Maria</td>
          <td>10</td>
          <td>9</td>
          <td>3</td>
          <td>9.5</td>
          <td></td>
        </tr>

        <tr>
          <td>João</td>
          <td>10</td>
          <td>4.5</td>
          <td>1</td>
          <td>3.5</td>
          <td></td>
        </tr>

        <tr>
          <td>Joana</td>
          <td>1</td>
          <td>3</td>
          <td>9</td>
          <td>1.5</td>
          <td></td>
        </tr>

        <tr>
          <td>José</td>
          <td>10</td>
          <td>4.5</td>
          <td>7</td>
          <td>3</td>
          <td></td>
        </tr>

        <tr>
          <td>Arnaldo</td>
          <td>10</td>
          <td>4.5</td>
          <td>7</td>
          <td>3</td>
          <td></td>
        </tr>

        <tr>
          <td>Lucas</td>
          <td>4.5</td>
          <td>9</td>
          <td>8</td>
          <td>3</td>
          <td></td>
        </tr>

        <tr>
          <td>Luana</td>
          <td>3</td>
          <td>7</td>
          <td>9</td>
          <td>3</td>
          <td></td>
        </tr>

        <tr>
          <td>Beatriz</td>
          <td>10</td>
          <td>4</td>
          <td>7</td>
          <td>9</td>
          <td></td>
        </tr>

        <tr>
          <td>Sergio</td>
          <td>4.5</td>
          <td>9.5</td>
          <td>10</td>
          <td>2</td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!--JavaScript at end of body for optimized loading-->
  <!-- <script type="text/javascript" src="js/materialize.min.js"></script> -->
 <script src="js/calc.js"></script>
<script>
  const INDICES_NOTAS = {
  n1: 1, // Índice da Nota 1
  n2: 2, // Índice da Nota 2        
  n3: 3, // Índice da Nota 3
  n4: 4, // Índice da Nota 4
  m: 5  // Índice da Média
  };
(function () {
  // Seleciona todas as linhas da tabela, exceto o cabeçalho
  const rows = document.querySelectorAll('tbody tr');
  let x = 0;
  let media;

  while (rows[x]) {
    console.log(rows[x]);
    // Seleciona todas as células da linha atual  
    const tds = rows[x].querySelectorAll('td');
    console.log(tds);
    // Verifica se a linha tem células suficientes para calcular a média  
    media = avarege(
      parseFloat(tds[INDICES_NOTAS.n1].textContent),
      parseFloat(tds[INDICES_NOTAS.n2].textContent),
      parseFloat(tds[INDICES_NOTAS.n3].textContent),
      parseFloat(tds[INDICES_NOTAS.n4].textContent)
    );
    // Atualiza a célula da média com o valor calculado
    if (tds.length > 5) {
      tds[5].textContent = media.toFixed(2); // Formata a média com duas casas decimais
    }
    x++;
  }
})();
</script>

</body>

</html>